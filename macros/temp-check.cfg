[gcode_macro LOW_TEMP_CHECK]
default_parameter_T: 230
gcode: 
    {% if printer.extruder.target != 0 %}
        {% if printer.extruder.temperature < printer.extruder.target %}
            M117 Heating from {printer.extruder.temperature} to {printer.extruder.target}.
            M109 S{printer.extruder.target|float} 
        {% endif %}
    {% else %}
        {% if printer.extruder.target < T %}
            M117 No setpoint, heating to {T}.
            M109 S{T}
        {% endif %}
    {% endif %}
